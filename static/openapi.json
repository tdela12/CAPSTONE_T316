{"openapi":"3.0.3","info":{"title":"AutoGuru â€” Service Price Prediction API","description":"Predict prices for capped, logbook, prescribed and repair services. Interactive docs (Swagger) are available at /docs.","version":"1.0.0"},"paths":{"/predict":{"post":{"tags":["Prediction"],"summary":"Predict a service price","operationId":"predict_predict_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"CarFeatures":{"properties":{"TaskName":{"type":"string","title":"Taskname","description":"Name of the task/service (e.g., Wheel alignment, Brake service)"},"Make":{"type":"string","title":"Make","description":"Vehicle manufacturer (e.g., Toyota)"},"Model":{"type":"string","title":"Model","description":"Vehicle model (e.g., Corolla)"},"Year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year","description":"Year of manufacture"},"FuelType":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fueltype","description":"Fuel type (e.g., Petrol, Diesel, Hybrid)"},"Transmission":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transmission","description":"Transmission type (e.g., Auto, Manual)"},"EngineSize":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Enginesize","description":"Engine displacement in litres"},"DriveType":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Drivetype","description":"Drive type (e.g., FWD, RWD, AWD)"},"Distance":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Distance","description":"Vehicle odometer reading (km)"},"Months":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Months","description":"Months since service or warranty (if applicable)"},"AdjustedPrice":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Adjustedprice","description":"Historical adjusted price (optional)"}},"type":"object","required":["TaskName","Make","Model"],"title":"CarFeatures"},"ComparisonResult":{"properties":{"predicted_price":{"type":"number","title":"Predicted Price"},"mean":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Mean"},"median":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Median"},"iqr_low":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Iqr Low"},"iqr_high":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Iqr High"},"within_iqr":{"type":"boolean","title":"Within Iqr"},"z_from_median":{"type":"number","title":"Z From Median"},"confidence":{"type":"string","title":"Confidence"}},"type":"object","required":["predicted_price","mean","median","iqr_low","iqr_high","within_iqr","z_from_median","confidence"],"title":"ComparisonResult"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PlotOutputs":{"properties":{"boxplot_png":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Boxplot Png","description":"Base64 PNG of boxplot (if applicable)"},"histogram_png":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Histogram Png","description":"Base64 PNG of histogram (if applicable)"},"shap_png":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Shap Png","description":"Base64 PNG of SHAP waterfall plot"},"month_vs_price":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Month Vs Price","description":"Base64 PNG of Months vs Price scatter"},"distance_vs_price":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Distance Vs Price","description":"Base64 PNG of Distance vs Price scatter"}},"type":"object","title":"PlotOutputs"},"PredictRequest":{"properties":{"model_name":{"type":"string","title":"Model Name","description":"Which model to use: one of Capped, Logbook, Prescribed, Repair"},"features":{"$ref":"#/components/schemas/CarFeatures","description":"Vehicle / Task feature object"}},"type":"object","required":["model_name","features"],"title":"PredictRequest"},"PredictResponse":{"properties":{"model":{"type":"string","title":"Model"},"prediction":{"type":"number","title":"Prediction"},"historical_summary":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Historical Summary"},"comparison":{"anyOf":[{"$ref":"#/components/schemas/ComparisonResult"},{"type":"null"}]},"plots":{"$ref":"#/components/schemas/PlotOutputs"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["model","prediction","plots"],"title":"PredictResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}